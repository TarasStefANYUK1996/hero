{"version":3,"sources":["hooks/http.hook.js","actions/index.js","components/heroesListItem/HeroesListItem.js","components/spinner/Spinner.js","components/heroesList/HeroesList.js","components/heroesAddForm/HeroesAddForm.js","components/heroesFilters/HeroesFilters.js","components/app/App.js","reducers/index.js","store/index.js","index.js"],"names":["useHttp","request","useCallback","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","method","body","headers","response","data","_args","arguments","wrap","_context","prev","next","length","undefined","fetch","sent","ok","Error","concat","status","json","abrupt","t0","stop","_x","apply","heroesSort","typeSort","type","payload","HeroesListItem","elementClassName","id","heroes","name","description","element","dispatch","useDispatch","heroesglibal","useSelector","state","console","log","_jsxs","className","children","_jsx","src","alt","style","objectFit","aria-label","onClick","e","close","res","filter","hero","JSON","stringify","deletes","Spinner","role","HeroesList","_useSelector","heroesLoadingStatus","filters","useEffect","then","obj","arr","key","push","objectToArray","heroesFetched","catch","elements","renderHeroesList","map","index","props","_objectWithoutProperties","_objectSpread","HeroesAddForm","Math","floor","random","_useState","useState","_useState2","_slicedToArray","setFilter","_useState3","text","_useState4","user","setUser","filt","Object","entries","_ref2","value","htmlFor","required","placeholder","onChange","target","height","preventDefault","news","_toConsumableArray","add","addUser","HeroesFilters","activeButton","setActiveButton","handleButtonClick","buttonId","classNames","active","App","initialState","reducer","action","sort","heroe","newHero","uuidv4","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","React","StrictMode","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.3f43613e.chunk.js","sourcesContent":["import { useCallback } from \"react\";\r\n\r\nexport const useHttp = () => {\r\n  // const [process, setProcess] = useState('waiting');\r\n\r\n  const request = useCallback(\r\n    async (\r\n      url,\r\n      method = \"GET\",\r\n      body = null,\r\n      headers = {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n        \"Access-Control-Allow-Methods\": \"*\",\r\n      }\r\n    ) => {\r\n      // setProcess('loading');\r\n\r\n      try {\r\n        const response = await fetch(url, { method, body, headers });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`Could not fetch ${url}, status: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n\r\n        return data;\r\n      } catch (e) {\r\n        // setProcess('error');\r\n        throw e;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  // const clearError = useCallback(() => {\r\n  // setProcess('loading');\r\n  // }, []);\r\n\r\n  return {\r\n    request,\r\n    // clearError,\r\n    // process,\r\n    // setProcess\r\n  };\r\n};\r\n","export const heroesFetching = () => {\r\n  return {\r\n    type: \"HEROES_FETCHING\",\r\n  };\r\n};\r\n\r\nexport const heroesFetched = (heroes) => {\r\n  return {\r\n    type: \"HEROES_FETCHED\",\r\n    payload: heroes,\r\n  };\r\n};\r\nexport const heroesSort = (typeSort) => {\r\n  return {\r\n    type: \"HEROES_SORT\",\r\n    payload: typeSort,\r\n  };\r\n};\r\n\r\nexport const heroesFetchingError = () => {\r\n  return {\r\n    type: \"HEROES_FETCHING_ERROR\",\r\n  };\r\n};\r\nexport const close = (heroes, id) => {\r\n  return {\r\n    type: \"HEROES_CLOSE\",\r\n    payload: id,\r\n  };\r\n};\r\nexport const add = (user) => {\r\n  return {\r\n    type: \"HEROES_ADD\",\r\n    payload: user,\r\n  };\r\n};\r\n","import { close } from \"../../actions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHttp } from \"../../hooks/http.hook\";\r\nimport { useSelector } from \"react-redux\";\r\nconst HeroesListItem = ({ id, heroes, name, description, element }) => {\r\n  let elementClassName;\r\n  const dispatch = useDispatch();\r\n  const heroesglibal = useSelector((state) => state.heroes);\r\n  console.log(heroesglibal);\r\n  const { request } = useHttp();\r\n  const deletes = () => {\r\n    dispatch(close(heroes, id));\r\n    let res = heroes.filter((hero) => hero.id !== id);\r\n\r\n    request(\r\n      `https://gggds-1c803-default-rtdb.firebaseio.com/heroes.json`,\r\n      \"PUT\",\r\n      JSON.stringify(res)\r\n    );\r\n  };\r\n  switch (element) {\r\n    case \"fire\":\r\n      elementClassName = \"bg-danger bg-gradient\";\r\n      break;\r\n    case \"water\":\r\n      elementClassName = \"bg-primary bg-gradient\";\r\n      break;\r\n    case \"wind\":\r\n      elementClassName = \"bg-success bg-gradient\";\r\n      break;\r\n    case \"earth\":\r\n      elementClassName = \"bg-secondary bg-gradient\";\r\n      break;\r\n    default:\r\n      elementClassName = \"bg-warning bg-gradient\";\r\n  }\r\n\r\n  return (\r\n    <li\r\n      className={`card flex-row mb-4 shadow-lg text-white ${elementClassName}`}\r\n    >\r\n      <img\r\n        src=\"http://www.stpaulsteinbach.org/wp-content/uploads/2014/09/unknown-hero.jpg\"\r\n        className=\"img-fluid w-25 d-inline\"\r\n        alt=\"unknown hero\"\r\n        style={{ objectFit: \"cover\" }}\r\n      />\r\n      <div className=\"card-body\">\r\n        <h3 className=\"card-title\">{name}</h3>\r\n        <p className=\"card-text\">{description}</p>\r\n      </div>\r\n      <span className=\"position-absolute top-0 start-100 translate-middle badge border rounded-pill bg-light\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn-close btn-close\"\r\n          aria-label=\"Close\"\r\n          onClick={(e) => {\r\n            deletes();\r\n          }}\r\n        ></button>\r\n      </span>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default HeroesListItem;\r\n","\r\nconst Spinner = () => {\r\n    return (\r\n        <div className=\"spinner-border mx-auto mt-5\" role=\"status\">\r\n            <span className=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Spinner;","import { useHttp } from \"../../hooks/http.hook\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport {\r\n  heroesFetching,\r\n  heroesFetched,\r\n  heroesFetchingError,\r\n} from \"../../actions\";\r\nimport HeroesListItem from \"../heroesListItem/HeroesListItem\";\r\nimport Spinner from \"../spinner/Spinner\";\r\n\r\n// Задача для этого компонента:\r\n// При клике на \"крестик\" идет удаление персонажа из общего состояния\r\n// Усложненная задача:\r\n// Удаление идет и с json файла при помощи метода DELETE\r\n\r\nconst HeroesList = () => {\r\n  function objectToArray(obj) {\r\n    const arr = [];\r\n    for (let key in obj) {\r\n      arr.push(obj[key]);\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  const { heroes, heroesLoadingStatus, filters } = useSelector(\r\n    (state) => state\r\n  );\r\n\r\n  const dispatch = useDispatch();\r\n  const { request } = useHttp();\r\n\r\n  useEffect(() => {\r\n    dispatch(heroesFetching());\r\n    request(\"https://gggds-1c803-default-rtdb.firebaseio.com/heroes.json\")\r\n      .then((data) => {\r\n        // console.log(data);\r\n        let res = objectToArray(data);\r\n        dispatch(heroesFetched(res));\r\n      })\r\n      .catch(() => dispatch(heroesFetchingError()));\r\n  }, [dispatch, request]);\r\n\r\n  if (heroesLoadingStatus === \"loading\") {\r\n    return <Spinner />;\r\n  } else if (heroesLoadingStatus === \"error\") {\r\n    return <h5 className=\"text-center mt-5\">Ошибка загрузки</h5>;\r\n  }\r\n\r\n  const renderHeroesList = (arr) => {\r\n    // console.log(arr);\r\n    if (arr.length === 0) {\r\n      return <h5 className=\"text-center mt-5\">Героев пока нет</h5>;\r\n    }\r\n\r\n    return arr.map(({ id, ...props }, index) => {\r\n      return <HeroesListItem key={index} id={id} heroes={heroes} {...props} />;\r\n    });\r\n  };\r\n\r\n  let elements;\r\n\r\n  if (filters.type === \"All\") {\r\n    elements = renderHeroesList(heroes);\r\n  } else {\r\n    elements = renderHeroesList(filters[\"arr\"]);\r\n  }\r\n\r\n  return <ul>{elements}</ul>;\r\n};\r\n\r\nexport default HeroesList;\r\n","// Задача для этого компонента:\r\n// Реализовать создание нового героя с введенными данными. Он должен попадать\r\n// в общее состояние и отображаться в списке + фильтроваться\r\n// Уникальный идентификатор персонажа можно сгенерировать через uiid\r\n// Усложненная задача:\r\n// Персонаж создается и в файле json при помощи метода POST\r\n// Дополнительно:\r\n// Элементы <option></option> желательно сформировать на базе\r\n// данных из фильтров\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useHttp } from \"../../hooks/http.hook\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { add } from \"../../actions\";\r\nimport { useSelector } from \"react-redux\";\r\nconst HeroesAddForm = () => {\r\n  let heroes = useSelector((state) => state.heroes);\r\n  console.log(heroes);\r\n  const id = Math.floor(Math.random() * 1000);\r\n  const dispatch = useDispatch();\r\n  const { request } = useHttp();\r\n  const [filter, setFilter] = useState([]);\r\n  const [user, setUser] = useState({\r\n    // id: id,\r\n    name: \"\",\r\n    text: \"\",\r\n    element: \"\",\r\n  });\r\n  const addUser = (user) => {\r\n    let news = [...heroes];\r\n    news.push(user);\r\n\r\n    console.log(news);\r\n    request(\r\n      \"https://gggds-1c803-default-rtdb.firebaseio.com/heroes.json\",\r\n      \"PUT\",\r\n      JSON.stringify(news)\r\n    ).then((data) => {\r\n      dispatch(add(user));\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    request(\r\n      \"https://gggds-1c803-default-rtdb.firebaseio.com/filters.json\"\r\n    ).then((res) => {\r\n      setFilter(res);\r\n    });\r\n  }, [request, dispatch]);\r\n  let filt = filter.map((filter, index) => {\r\n    return Object.entries(filter).map(([key, value]) => (\r\n      <option key={key} value={key}>\r\n        {value}\r\n      </option>\r\n    ));\r\n  });\r\n  return (\r\n    <form className=\"border p-4 shadow-lg rounded\">\r\n      <div className=\"mb-3\">\r\n        <label htmlFor=\"name\" className=\"form-label fs-4\">\r\n          Имя нового героя\r\n        </label>\r\n        <input\r\n          required\r\n          type=\"text\"\r\n          name=\"name\"\r\n          className=\"form-control\"\r\n          id=\"name\"\r\n          placeholder=\"Как меня зовут?\"\r\n          value={user[\"name\"]}\r\n          onChange={(e) => {\r\n            setUser((prev) => ({\r\n              ...prev,\r\n              name: e.target.value,\r\n            }));\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"mb-3\">\r\n        <label htmlFor=\"text\" className=\"form-label fs-4\">\r\n          Описание\r\n        </label>\r\n        <textarea\r\n          required\r\n          name=\"text\"\r\n          className=\"form-control\"\r\n          id=\"text\"\r\n          value={user[\"text\"]}\r\n          placeholder=\"Что я умею?\"\r\n          onChange={(e) => {\r\n            setUser((prev) => ({ ...prev, text: e.target.value }));\r\n            // console.log(user);\r\n          }}\r\n          style={{ height: \"130px\" }}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"mb-3\">\r\n        <label htmlFor=\"element\" className=\"form-label\">\r\n          Выбрать элемент героя\r\n        </label>\r\n        <select\r\n          value={user.element}\r\n          required\r\n          className=\"form-select\"\r\n          id=\"element\"\r\n          name=\"element\"\r\n          onChange={(e) => {\r\n            setUser((prev) => ({ ...prev, element: e.target.value }));\r\n          }}\r\n        >\r\n          <option>Я владею элементом...</option>\r\n          {filt}\r\n        </select>\r\n      </div>\r\n\r\n      <button\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          addUser(user);\r\n        }}\r\n        type=\"submit\"\r\n        className=\"btn btn-primary\"\r\n      >\r\n        Создать\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default HeroesAddForm;\r\n","// Задача для этого компонента:\r\n// Фильтры должны формироваться на основании загруженных данных\r\n// Фильтры должны отображать только нужных героев при выборе\r\n// Активный фильтр имеет класс active\r\n// Изменять json-файл для удобства МОЖНО!\r\n// Представьте, что вы попросили бэкенд-разработчика об этом\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { heroesSort } from \"../../actions\";\r\nimport { useState } from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst HeroesFilters = () => {\r\n  const dispatch = useDispatch();\r\n  const [activeButton, setActiveButton] = useState(\"btn-outline-dark\");\r\n  const handleButtonClick = (buttonId) => {\r\n    setActiveButton(buttonId);\r\n  };\r\n  return (\r\n    <div className=\"card shadow-lg mt-4\">\r\n      <div className=\"card-body\">\r\n        <p className=\"card-text\">Отфильтруйте героев по элементам</p>\r\n        <div className=\"btn-group\">\r\n          <button\r\n            // className=\"btn btn-outline-dark active\"\r\n            className={classNames(\"btn btn-outline-dark\", {\r\n              active: activeButton === \"btn-outline-dark\",\r\n            })}\r\n            onClick={() => {\r\n              dispatch(heroesSort(\"All\"));\r\n              handleButtonClick(() => {\r\n                handleButtonClick(\"btn-outline-dark\");\r\n              });\r\n            }}\r\n          >\r\n            Все\r\n          </button>\r\n          <button\r\n            // className=\"btn btn-danger\"\r\n            className={classNames(\"btn btn-danger\", {\r\n              active: activeButton === \"btn-danger\",\r\n            })}\r\n            onClick={() => {\r\n              handleButtonClick(() => {\r\n                handleButtonClick(\"btn-danger\");\r\n              });\r\n              dispatch(heroesSort(\"fire\"));\r\n            }}\r\n          >\r\n            Огонь\r\n          </button>\r\n          <button\r\n            // className=\"btn btn-primary\"\r\n            className={classNames(\"btn btn-primary\", {\r\n              active: activeButton === \"btn-primary\",\r\n            })}\r\n            onClick={() => {\r\n              handleButtonClick(() => {\r\n                handleButtonClick(\"btn-primary\");\r\n              });\r\n              dispatch(heroesSort(\"water\"));\r\n            }}\r\n          >\r\n            Вода\r\n          </button>\r\n          <button\r\n            // className=\"btn btn-success\"\r\n            className={classNames(\"btn btn-success\", {\r\n              active: activeButton === \"btn-success\",\r\n            })}\r\n            onClick={() => {\r\n              handleButtonClick(() => {\r\n                handleButtonClick(\"btn-success\");\r\n              });\r\n              dispatch(heroesSort(\"wind\"));\r\n            }}\r\n          >\r\n            Ветер\r\n          </button>\r\n          <button\r\n            // className=\"btn btn-secondary\"\r\n            className={classNames(\"btn btn-secondary\", {\r\n              active: activeButton === \"btn-secondary\",\r\n            })}\r\n            onClick={() => {\r\n              handleButtonClick(() => {\r\n                handleButtonClick(\"btn-secondary\");\r\n              });\r\n              dispatch(heroesSort(\"earth\"));\r\n            }}\r\n          >\r\n            Земля\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeroesFilters;\r\n","import HeroesList from '../heroesList/HeroesList';\r\nimport HeroesAddForm from '../heroesAddForm/HeroesAddForm';\r\nimport HeroesFilters from '../heroesFilters/HeroesFilters';\r\n\r\nimport './app.scss';\r\n\r\nconst App = () => {\r\n    \r\n    return (\r\n        <main className=\"app\">\r\n            <div className=\"content\">\r\n                <HeroesList/>\r\n                <div className=\"content__interactive\">\r\n                    <HeroesAddForm/>\r\n                    <HeroesFilters/>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default App;","import { v4 as uuidv4 } from \"uuid\";\r\nconst initialState = {\r\n  heroes: [\r\n    {\r\n      id: 1,\r\n      name: \"Первый герой\",\r\n      description: \"Первый герой в рейтинге!\",\r\n      element: \"fire\",\r\n    },\r\n    {\r\n      name: \"fghfgh\",\r\n      text: \"нрепкапе\",\r\n      element: \"fire\",\r\n      id: 2,\r\n    },\r\n  ],\r\n  heroesLoadingStatus: \"idle\",\r\n\r\n  filters: { type: \"All\", arr: [] },\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"HEROES_FETCHING\":\r\n      return {\r\n        ...state,\r\n        heroesLoadingStatus: \"loading\",\r\n      };\r\n    case \"HEROES_FETCHED\":\r\n      return {\r\n        ...state,\r\n        heroes: action.payload,\r\n        heroesLoadingStatus: \"idle\",\r\n      };\r\n    case \"HEROES_SORT\": {\r\n      let sort = state.heroes.filter((hero) => hero.element === action.payload);\r\n\r\n      if (action.payload !== \"All\") {\r\n        if (sort.length === 0) {\r\n          return {\r\n            ...state,\r\n\r\n            filters: { arr: [], type: action.payload },\r\n          };\r\n        } else {\r\n          return {\r\n            ...state,\r\n\r\n            filters: { arr: sort, type: action.payload },\r\n          };\r\n        }\r\n      } else {\r\n        console.log(\"попали\");\r\n        let heroe = state.heroes;\r\n        return {\r\n          ...state,\r\n          filters: { arr: heroe, type: \"All\" },\r\n        };\r\n      }\r\n    }\r\n    case \"HEROES_FETCHING_ERROR\":\r\n      return {\r\n        ...state,\r\n        heroesLoadingStatus: \"error\",\r\n      };\r\n    case \"HEROES_CLOSE\": {\r\n      let res = state.heroes.filter((hero) => hero.id !== action.payload);\r\n      console.log(action.payload);\r\n      return {\r\n        ...state,\r\n        heroes: res,\r\n      };\r\n    }\r\n    case \"HEROES_ADD\": {\r\n      const newHero = {\r\n        ...action.payload,\r\n        id: uuidv4(),\r\n      };\r\n      return {\r\n        ...state,\r\n        heroes: [...state.heroes, newHero],\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore } from 'redux';\r\nimport reducer from '../reducers';\r\n\r\nconst store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport App from './components/app/App';\r\nimport store from './store';\r\n\r\nimport './styles/index.scss';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}